<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Resistor Color Code Calculator</title>
  <link rel="stylesheet" href="resistor.css"> <!-- External CSS file linked -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-container d-flex justify-content-center">
      <div class="navbar-links">
        <a href="homepage.html">Home</a>
        <a href="electronics.html">Search</a>
        <a href="components/database.html">Database</a>
      </div>
    </div>
  </nav>

  <!-- Main Container -->
  <div class="container mt-5 text-center">
    <h1 class="mb-4">Resistor Color Code Calculator</h1>
    
    <!-- Layout Grid -->
    <div class="row justify-content-center">
      <!-- Form Section -->
      <div class="col-lg-4 mb-4 text-start">
        <h5>Select Number of Bands:</h5>
        <label><input type="radio" name="bandType" value="3" onclick="toggleBandInput()"> 3-Band</label><br>
        <label><input type="radio" name="bandType" value="4" checked onclick="toggleBandInput()"> 4-Band</label>

        <h5 class="mt-3">Select Colors for Each Band:</h5>
        <select id="band1" class="form-select my-2">
          <option value="">Band 1</option>
          <option value="black">Black</option>
          <option value="brown">Brown</option>
          <option value="red">Red</option>
          <option value="orange">Orange</option>
          <option value="yellow">Yellow</option>
          <option value="green">Green</option>
          <option value="blue">Blue</option>
          <option value="violet">Violet</option>
          <option value="gray">Gray</option>
          <option value="white">White</option>
        </select>
        <select id="band2" class="form-select my-2">
          <option value="">Band 2</option>
          <option value="black">Black</option>
          <option value="brown">Brown</option>
          <option value="red">Red</option>
          <option value="orange">Orange</option>
          <option value="yellow">Yellow</option>
          <option value="green">Green</option>
          <option value="blue">Blue</option>
          <option value="violet">Violet</option>
          <option value="gray">Gray</option>
          <option value="white">White</option>
        </select>
        <select id="band3" class="form-select my-2">
          <option value="">Band 3</option>
          <option value="black">Black</option>
          <option value="brown">Brown</option>
          <option value="red">Red</option>
          <option value="orange">Orange</option>
          <option value="yellow">Yellow</option>
          <option value="green">Green</option>
          <option value="blue">Blue</option>
          <option value="violet">Violet</option>
          <option value="gray">Gray</option>
          <option value="white">White</option>
        </select>
        <select id="multiplier" class="form-select my-2">
          <option value="">Multiplier</option>
          <option value="black">Black (x1)</option>
          <option value="brown">Brown (x10)</option>
          <option value="red">Red (x100)</option>
          <option value="orange">Orange (x1k)</option>
          <option value="yellow">Yellow (x10k)</option>
          <option value="green">Green (x100k)</option>
          <option value="blue">Blue (x1M)</option>
          <option value="violet">Violet (x10M)</option>
          <option value="gold">Gold (x0.1)</option>
          <option value="silver">Silver (x0.01)</option>
        </select>
        <select id="tolerance" class="form-select my-2">
          <option value="">Tolerance</option>
          <option value="brown">Brown (±1%)</option>
          <option value="red">Red (±2%)</option>
          <option value="green">Green (±0.5%)</option>
          <option value="blue">Blue (±0.25%)</option>
          <option value="violet">Violet (±0.1%)</option>
          <option value="gray">Gray (±0.05%)</option>
          <option value="gold">Gold (±5%)</option>
          <option value="silver">Silver (±10%)</option>
        </select>
        <button class="btn btn-dark mt-3 w-100" onclick="calculateResistance()">Submit</button>
      </div>

      <!-- Resistor + Results Section -->
      <div class="col-lg-4 d-flex flex-column align-items-center">
        <div class="resistor-body">
          <div class="band" id="colorBand1"></div>
          <div class="band" id="colorBand2"></div>
          <div class="band" id="colorBand3"></div>
          <div class="band" id="colorBandMultiplier"></div>
          <div class="band" id="colorBandTolerance"></div>
        </div>
        <div class="results">
          <h4>Results:</h4>
          <p id="ResValresult">Resistance Value: <span></span></p>
          <p id="toleranceResult">Tolerance: <span></span></p>
          <p>Power Rating: —</p>
          <p>Preferred Series: —</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer-container text-center">
    <div class="container py-4">
      <div class="row justify-content-center">
        <div class="col-md-3 mb-2">
          <a class="footer-link" href="home.html">Resistor Calculator</a>
        </div>
        <div class="col-md-3 mb-2">
          <a class="footer-link" href="capacitor.html">Capacitor Identifier</a>
        </div>
        <div class="col-md-3 mb-2">
          <a class="footer-link" href="logicgates.html">Logic Gates</a>
        </div>
        <div class="col-md-3 mb-2">
          <a class="footer-link" href="transistor.html">Transistor & Diode Lookup</a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    function calculateResistance() {
      const band1 = document.getElementById("band1").value;
      const band2 = document.getElementById("band2").value;
      const band3 = document.getElementById("band3").value;
      const multiplier = document.getElementById("multiplier").value;
      const tolerance = document.getElementById("tolerance").value;
      const bandType = document.querySelector('input[name="bandType"]:checked').value;

      const colorValues = {
        black: 0, brown: 1, red: 2, orange: 3, yellow: 4,
        green: 5, blue: 6, violet: 7, gray: 8, white: 9
      };

      const multiplierValues = {
        black: 1, brown: 10, red: 100, orange: 1000, yellow: 10000,
        green: 100000, blue: 1000000, violet: 10000000,
        gold: 0.1, silver: 0.01
      };

      const toleranceValues = {
        brown: "±1%", red: "±2%", green: "±0.5%", blue: "±0.25%",
        violet: "±0.1%", gray: "±0.05%", gold: "±5%", silver: "±10%"
      };

      if (!band1 || !band2 || !multiplier || !tolerance || (bandType === "4" && !band3)) {
        document.getElementById("ResValresult").innerHTML = "Please select all required bands.";
        return;
      }

      let resistanceValue;
      if (bandType === "4") {
        resistanceValue = ((colorValues[band1] * 100) + (colorValues[band2] * 10) + colorValues[band3]) * multiplierValues[multiplier];
      } else {
        resistanceValue = ((colorValues[band1] * 10) + colorValues[band2]) * multiplierValues[multiplier];
      }

      let formattedValue;
      if (resistanceValue >= 1000000) {
        formattedValue = (resistanceValue / 1000000) + "MΩ";
      } else if (resistanceValue >= 1000) {
        formattedValue = (resistanceValue / 1000) + "kΩ";
      } else {
        formattedValue = resistanceValue + "Ω";
      }

      document.getElementById("ResValresult").innerHTML = `Resistance Value: <span>${formattedValue}</span>`;
      document.getElementById("toleranceResult").innerHTML = `Tolerance: <span>${toleranceValues[tolerance]}</span>`;

      updateResistorImage(band1, band2, band3, multiplier, tolerance, bandType);
    }

    function updateResistorImage(band1, band2, band3, multiplier, tolerance, bandType) {
      const colorMap = {
        black: '#000000', brown: '#8B4513', red: '#FF0000', orange: '#FFA500',
        yellow: '#FFFF00', green: '#008000', blue: '#0000FF', violet: '#8F00FF',
        gray: '#808080', white: '#FFFFFF', gold: '#FFD700', silver: '#C0C0C0'
      };

      document.getElementById('colorBand1').style.backgroundColor = colorMap[band1] || 'transparent';
      document.getElementById('colorBand2').style.backgroundColor = colorMap[band2] || 'transparent';
      document.getElementById('colorBandMultiplier').style.backgroundColor = colorMap[multiplier] || 'transparent';
      document.getElementById('colorBandTolerance').style.backgroundColor = colorMap[tolerance] || 'transparent';

      if (bandType === "4") {
        document.getElementById('colorBand3').style.display = 'block';
        document.getElementById('colorBand3').style.backgroundColor = colorMap[band3] || 'transparent';
      } else {
        document.getElementById('colorBand3').style.display = 'none';
      }
    }

    function toggleBandInput() {
      const bandType = document.querySelector('input[name="bandType"]:checked').value;
      const band3 = document.getElementById('band3');
      band3.style.display = bandType === '4' ? 'block' : 'none';
    }

    window.onload = toggleBandInput;
  </script>
</body>
</html>
